---
const { selectedLocale, dataProp, text } = Astro.props;

const pageSlug = Astro.url.pathname.replace(/^\/|\/$/g, '') || 'index';
const dataFileKey = "locales";
const roseyId = `${pageSlug}_${dataProp.replaceAll(".", "_")}`;
---

{
  selectedLocale === "fr" ? (
    <editable-text
      data-editable="text"
      data-prop={`@data[${dataFileKey}].${roseyId}.value`}
      data-rosey={roseyId}>
      {text}
    </editable-text>
  ) : (
    <editable-text
      data-editable="text"
      data-prop={dataProp}
      data-rosey={roseyId}>
      {text}
    </editable-text>
  )
}
