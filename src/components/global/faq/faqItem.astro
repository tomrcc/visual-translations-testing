---
import MarkdownIt from "markdown-it";
const md = new MarkdownIt({ html: true });

interface FaqItemProps {
  title: string;
  description: string;
}

interface Props {
  faq: FaqItemProps;
  i: number;
}

const { faq, i, ...rest } = Astro.props;
---

<details
  class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden group"
  open={i === 0}
  {...rest}>
  <summary
    class="w-full px-6 py-6 text-left flex items-center justify-between transition-colors duration-200 cursor-pointer list-none">
    <div class="flex items-center space-x-4">
      <span
        class="shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">
        0{i + 1}
      </span>
      <h3 class="text-lg font-semibold text-gray-900 leading-tight">
        <editable-text data-prop="title">{faq.title}</editable-text>
      </h3>
    </div>
    <svg
      class="w-5 h-5 text-gray-500 transition-transform duration-200 group-open:rotate-180"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M19 9l-7 7-7-7"></path>
    </svg>
  </summary>

  <div class="px-6 pb-6 pl-18">
    <div
      class="text-gray-600 leading-relaxed prose prose-sm max-w-none"
      data-editable="text"
      data-prop="description"
      set:html={md.render(faq.description || "")}
    />
  </div>
</details>
